{"version":3,"sources":["theme.js","client.js","config.js","containers/Level/styles.js","containers/Level/components/LevelCanvas.js","containers/Level/index.js","containers/HomePage/index.js","containers/LevelPage/index.js","App.js","index.js"],"names":["theme","colors","primaryText","mainBackground","fonts","primary","family","weight","httpLink","HttpLink","uri","credentials","middlewareLink","ApolloLink","operation","forward","token","localStorage","getItem","setContext","headers","authorization","errorLink","onError","client","ApolloClient","cache","InMemoryCache","link","from","BackgroundDiv","styled","div","StyledTd","td","table","tbody","thead","h1","gridStrs","LevelCanvas","w","h","sqsize","offsetx","offsety","antCount","level","gridStr","winState","setWin","stepsState","setSteps","crumbsState","setCrumbs","grid","ants","started","killed","steps","painted","picnicExists","picnic","reset","i","j","len","length","dirs","R","D","L","U","k","c","dir","console","log","typ","substring","push","Ant","x","y","Math","min","Array","fill","step","forEach","ant","move","rotate","start","mouseInX","mouseInY","mode","type","this","xmoves","ymoves","stopped","picnicAnt","whiteMove","blackMove","actualMove","S","p5","translate","HALF_PI","stroke","strokeWeight","scale","ellipse","noFill","beginShape","vertex","curveVertex","endShape","pop","setup","canvasParentRef","createCanvas","parent","startButton","createButton","position","width","mousePressed","resetButton","height","draw","background","text","rect","noStroke","show","stop","stopCount","test","win","reduce","acc","el","checkWin","mouseX","mouseY","floor","mouseDragged","prev","Level","useEffect","document","title","HomePage","LevelPage","useParams","App","basename","className","exact","path","numLevels","keys","join","component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.7972a107.chunk.js","sourcesContent":["// Add global styles and fonts here\n\nconst theme = {\n  colors: {\n    primaryText: '#232323',\n    mainBackground: '#F2F2F2',\n  },\n  fonts: {\n    primary: {\n      family: 'Source Sans Pro, sans-serif',\n      weight: 400,\n    },\n  },\n}\n\nexport default theme\n","import { ApolloClient } from 'apollo-client'\nimport { InMemoryCache } from 'apollo-cache-inmemory'\nimport { HttpLink } from 'apollo-link-http'\nimport { onError } from 'apollo-link-error'\nimport { ApolloLink } from 'apollo-link'\nimport config from './config'\n\nconst httpLink = new HttpLink({\n  uri: config.graphqlUrl,\n  credentials: 'include',\n})\n\n\nconst middlewareLink = new ApolloLink((operation, forward) => {\n  const token = localStorage.getItem('token')\n  if (token) {\n    operation.setContext({\n      headers: {\n        authorization: token,\n      },\n    })\n  }\n\n  return forward(operation)\n})\n\nconst errorLink = onError(() => {\n  // Handle specific errors here\n  //   e.g. redirect to login on AuthenticationError\n})\n\nconst client = new ApolloClient({\n  cache: new InMemoryCache(),\n  link: ApolloLink.from([\n    errorLink,\n    middlewareLink,\n    httpLink,\n  ]),\n})\n\nexport default client\n","export default {\n  graphqlUrl: 'https://ants-on-a-picnic-backend.herokuapp.com/',\n}\n","import styled from 'styled-components'\n\nexport const BackgroundDiv = styled.div`\n  display: flex;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  /* background-color: palegoldenrod; */\n`\n\nexport const LeaderboardDiv = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  padding: 10px;\n  margin: 20px auto 100px auto;\n  /* border: rgba(40,40,40,0.5) 4px; */\n  /* border-style: solid; */\n  /* height: auto; */\n  text-align: center;\n  font-family: Arial, Helvetica, sans-serif;\n  /* position: fixed; */\n  top: 2vh;\n  /* background-color: rgba(108,128,150,0.8); */\n  /* animation: color-change 40s infinite;\n  position: center;\n  @keyframes color-change {\n    0% { background-color: rgba(100,128,150,0.8); }\n    20% { background-color: rgba(128,128,100,0.8); }\n    40% { background-color: rgba(100,128,128,0.8); }\n    60% { background-color: rgba(150,100,128,0.8); }\n    80% { background-color: rgba(128,150,100,0.8); }\n    100% { background-color: rgba(108,128,150,0.8); }\n  } */\n`\n\nexport const StyledTd = styled.td`\n  padding: 20px;\n  border: solid;\n  border-color: palegoldenrod;\n  border-width: 5px;\n`\n\nexport const RankTd = styled(StyledTd)`\n  width: 52px;\n`\n\nexport const NameTd = styled(StyledTd)`\n  width: 185px;\n`\n\nexport const PuzzTd = styled(StyledTd)`\n  width: 140px;\n`\n\nexport const TimeTd = styled(StyledTd)`\n  width: 200px;\n`\n\nexport const StyledTable = styled.table`\n  border-collapse: collapse;\n  /* margin: 10px; */\n`\n\nexport const StyledTableBody = styled.tbody`\n  background-color: rgb(10,150,10);\n`\n\nexport const StyledTableHead = styled.thead`\n  font-weight: bold;\n  font-size: 18px;\n  background-color: rgb(10,120,10);\n`\n\nexport const LeaderboardHeader = styled.h1`\n  font-weight: bold;\n  font-size: 45px;\n`","import React, { useEffect } from 'react'\nimport Sketch from 'react-p5'\n\nconst gridStrs = [\n  \"000000|000000|000(LRLF+)00|00(DRLF+)000|000000|000000\",\n  \"0(DLRF)0000|(RRLF)00000|000000|000000|000000|0000P0\",\n]\n\nconst LevelCanvas = ({ level, winState, setWin,  stepsState, setSteps, crumbsState, setCrumbs }) => {\n  \n  let w\n  let h\n  let sqsize\n  let offsetx\n  let offsety\n\n  const gridStr = gridStrs[level-1]\n\n  const grid = []\n  let ants = []\n\n  let started = false\n  let killed = false\n  let steps = 0\n  let painted = 0\n  let antCount\n\n  let picnicExists = false\n  const picnic = {}\n  \n  const setup = (p5, canvasParentRef) => {\n    reset()\n    p5.createCanvas(sqsize*w+2*offsetx, sqsize*h+2*offsety).parent(canvasParentRef);\n    const startButton = p5.createButton('start');\n    startButton.position(p5.width-startButton.width-10, 10);\n    startButton.mousePressed(start);\n    const resetButton = p5.createButton('reset');\n    resetButton.position(p5.width-resetButton.width-10, 20+startButton.height);\n    resetButton.mousePressed(reset);\n  }\n\n  const reset = () => {\n    killed = false\n    started = false\n    let i = 0\n    let j = 0\n    let len = gridStr.length\n    picnicExists = false\n    let dirs = {R: 0, D: 1, L: 2, U:3}\n    ants = []\n    for (let k = 0; k < len; k++) {\n      const c = gridStr[k]\n      if (c === \"|\") {\n        j++\n        i = -1\n      } else if (c === \"(\") {\n        let dir = dirs[gridStr[k+1]]\n        console.log(i,j)\n        let typ\n        if (gridStr[k+5] === \"+\") {\n          typ = gridStr.substring(k+2,k+6)\n          k += 6\n        } else {\n          typ = gridStr.substring(k+2,k+5)\n          k += 5\n        }\n        ants.push(new Ant(i, j, dir, typ))\n      } else if (c === \"P\") {\n        picnicExists = true\n        picnic.x = i\n        picnic.y = j\n      }\n      i++\n    }\n    w = i\n    h = j + 1\n    sqsize = Math.min(400/h, 600/w)\n    offsetx = sqsize\n    offsety = sqsize\n    for (let i = 0; i < h; i++) {\n      grid[i] = new Array(w);\n      grid[i].fill(0)\n    }\n    antCount = ants.length\n  }\n  \n  const updateAnts = () => {\n    ants.forEach(ant => ant.move())\n    ants.forEach(ant => ant.rotate())\n  }\n  \n  const step = () => {\n    if (!killed) {\n      steps++\n      updateAnts()\n    }\n  }\n  \n  const start = () => {\n    started = true\n  }\n  \n  let mouseInX = -1\n  let mouseInY = -1\n  let mode = 1\n  \n  const mousePressed = (p5) => {\n    if (!started) {\n      if (p5.mouseX > offsetx && p5.mouseX < p5.width-offsetx && p5.mouseY > offsety && p5.mouseY < p5.height - offsety) {\n        mouseInX = Math.floor((p5.mouseX - offsetx) / sqsize)\n        mouseInY = Math.floor((p5.mouseY - offsety) / sqsize)\n        grid[mouseInY][mouseInX] = 1 - grid[mouseInY][mouseInX]\n        mode = grid[mouseInY][mouseInX]\n        painted += grid[mouseInY][mouseInX]*2-1\n      }\n    }\n  }\n  \n  const mouseDragged = (p5) => {\n    if (!started) {\n      if (p5.mouseX > offsetx && p5.mouseX < p5.width-offsetx && p5.mouseY > offsety && p5.mouseY < p5.height - offsety) {\n        const x = Math.floor((p5.mouseX - offsetx) / sqsize)\n        const y = Math.floor((p5.mouseY - offsety) / sqsize)\n        if (mouseInX === x && mouseInY === y) {\n          return\n        }\n        const prev = grid[y][x]\n        grid[y][x] = mode\n        painted += mode - prev\n        mouseInX = x\n        mouseInY = y\n      }\n    }\n  }\n  \n  const test = () => {\n    for (let i = 0; i < antCount; i++) {\n      if (!ants[i].picnicAnt) {\n        continue\n      }\n      for (let j = i + 1; j < antCount; j++) {\n        if (!ants[j].picnicAnt) {\n          continue\n        }\n        if (ants[i].x === ants[j].x && ants[i].y === ants[j].y) {\n          ants[i].stop()\n          ants[j].stop()\n          if (!picnicExists) {\n            picnic.x = ants[i].x\n            picnic.y = ants[i].y\n            picnicExists = true\n          }\n        }\n      }\n    }\n    if (picnicExists) {\n      let stopCount = 0\n      for (let i = 0; i < antCount; i++) {\n        if (ants[i].x === picnic.x && ants[i].y === picnic.y) {\n          ants[i].stop()\n        }\n        if (ants[i].stopped) {\n          stopCount++\n        }\n      }\n      if (stopCount === antCount) {\n        killed = true\n      }\n    }\n  }\n  \n  const checkWin = () => {\n    let win = true\n    for (let i = 0; i < h; i++) {\n      win &= grid[i].reduce((acc,el) => (!el) && acc, true)\n    }\n    ants.forEach(ant => win &= (ant.x === picnic.x && ant.y === picnic.y))\n    return win\n  }\n\n  const draw = (p5) => {\n    p5.background(255)\n    p5.push()\n    p5.text(`Steps: ${steps}`,offsetx,15)\n    p5.text(`Painted: ${painted}`,offsetx,35)\n    p5.translate(offsetx,offsety)\n    p5.stroke(0)\n    for (let i = 0; i < h; i++) {\n      for (let j = 0; j < w; j++) {\n        if (!!grid[i][j]) {\n          p5.fill(181)\n        } else {\n          p5.noFill()\n        }\n        p5.rect(sqsize*j,sqsize*i,sqsize,sqsize)\n      }\n    }\n    if (picnicExists) {\n      p5.push()\n      p5.fill(0,0,255)\n      p5.noStroke()\n      p5.rect(sqsize*(picnic.x+0.4),sqsize*(picnic.y+0.4),sqsize*0.2,sqsize*0.2)\n      p5.pop()\n    }\n    ants.forEach(ant => ant.show(p5))\n    if (started) {\n      step()\n    }\n    test()\n    if (killed) {\n      console.log(checkWin())\n    }\n    p5.pop()\n  }\n\n  class Ant {\n\n    constructor(x, y, dir, type) {\n      this.x = x;\n      this.y = y;\n      this.dir = dir;\n      this.type = type;\n      this.xmoves = [1,0,-1,0]\n      this.ymoves = [0,1,0,-1]\n      this.stopped = false\n      this.picnicAnt = !!this.type[3]\n      // this.colors = [color(0,255,0),color(255,0,0),color(0,0,255)]\n    }\n  \n    stop() {\n      this.stopped = true\n    }\n  \n    move() {\n      if (this.stopped) {\n        return\n      }\n      const flip = this.type[2]\n  \n      // flip\n      switch (flip) {\n        case 'F':\n          grid[this.y][this.x] = 1 - grid[this.y][this.x]\n          painted += grid[this.y][this.x]*2-1\n          // needFlip.push([this.y,this.x])\n          // painted -= grid[this.y][this.x]*2-1\n          break\n        case 'W':\n          painted -= grid[this.y][this.x]\n          grid[this.y][this.x] = 0\n          // if (!!grid[this.y][this.x]) {\n          //   needFlip.push([this.y,this.x])\n          // }\n          break\n        case 'B':\n          painted += 1 - grid[this.y][this.x]\n          grid[this.y][this.x] = 1\n          // if (!grid[this.y][this.x]) {\n          //   needFlip.push([this.y,this.x])\n          // }\n          break\n      }\n  \n      this.x += this.xmoves[this.dir]\n      this.y += this.ymoves[this.dir]\n      if (this.x >= w || this.x < 0 || this.y >= h || this.y < 0) {\n        this.stopped = true\n        killed = true\n      }\n    }\n  \n    rotate() {\n      if (this.stopped) {\n        return\n      }\n      const whiteMove = this.type[0]\n      const blackMove = this.type[1]\n  \n      const actualMove = !grid[this.y][this.x] ? whiteMove : blackMove\n      const moveIncs = {R: 1, L: 3, S: 0, U: 2}\n  \n      this.dir = (this.dir + moveIncs[actualMove]) % 4\n    }\n  \n    show(p5) {\n      // if (this.x >= w || this.x < 0 || this.y >= h || this.y < 0) {\n      //   return\n      // }\n      p5.push()\n      p5.translate((this.x+0.5)*sqsize,(this.y+0.5)*sqsize)\n      p5.rotate(this.dir*p5.HALF_PI)\n      p5.stroke(0)\n      p5.strokeWeight(0.5)\n      if (this.type === 'LRF' || this.type === 'LRF+') {\n        p5.fill(255,0,0)\n      }\n      if (this.type === 'RLF' || this.type === 'RLF+') {\n        p5.fill(0,255,0)\n      }\n      p5.scale(sqsize/20)\n      // scale(10)\n      p5.ellipse(-1,0,3.5)\n      p5.ellipse(-4.5,0,3.5)\n      p5.ellipse(2.5,0,3.5)\n      p5.noFill()\n      p5.beginShape();\n      p5.vertex(4.2, 0.5);\n      p5.vertex(4.2, 0.5);\n      p5.curveVertex(5,0.8);\n      p5.vertex(6,2)\n      p5.vertex(6,2)\n      p5.endShape();\n      p5.beginShape();\n      p5.vertex(4.2, -0.5);\n      p5.vertex(4.2, -0.5);\n      p5.curveVertex(5,-0.8);\n      p5.vertex(6,-2)\n      p5.vertex(6,-2)\n      p5.endShape();\n      p5.fill(0)\n      if (this.picnicAnt) {\n        p5.ellipse(-1,0,1)\n      }\n      p5.pop()\n    }\n  }\n\n  return (\n    <Sketch setup={setup} draw={draw} mousePressed={mousePressed} mouseDragged={mouseDragged} />\n    // <BackgroundDiv>\n    //   <LeaderboardDiv>\n    //     <LeaderboardHeader>Leaderboard</LeaderboardHeader>\n    //     <Scores/>\n    //   </LeaderboardDiv>\n    // </BackgroundDiv>\n  )\n}\n\nexport default LevelCanvas\n","import React, { useEffect } from 'react'\nimport Sketch from 'react-p5'\n// import Scores from './components/Scores'\nimport {\n  // LeaderboardDiv,\n  BackgroundDiv,\n  // LeaderboardHeader,\n} from './styles'\nimport LevelCanvas from './components/LevelCanvas'\n\nconst Level = ({ level }) => {\n  useEffect(() => {\n    document.title = `Ants - Level ${level}`\n  }, [])\n  return (\n    <BackgroundDiv>\n      <LevelCanvas level={level} />\n    </BackgroundDiv>\n    // <BackgroundDiv>\n    //   <LeaderboardDiv>\n    //     <LeaderboardHeader>Leaderboard</LeaderboardHeader>\n    //     <Scores/>\n    //   </LeaderboardDiv>\n    // </BackgroundDiv>\n  )\n}\n\nexport default Level\n","import React from 'react'\nimport Level from '../Level'\n\nconst HomePage = () => (\n  <Level level='1'></Level>\n)\n\nexport default HomePage\n","import React from 'react'\nimport Level from '../Level'\nimport { useParams } from 'react-router-dom'\n\nconst LevelPage = () => {\n  const { level } = useParams()\n  return (\n    <Level level={level}></Level>\n  )\n}\n\nexport default LevelPage\n","import React from 'react'\nimport { ApolloProvider } from '@apollo/react-hooks'\nimport { Switch, Route, BrowserRouter as Router } from 'react-router-dom'\nimport { ThemeProvider } from 'styled-components'\nimport theme from './theme'\nimport client from './client'\nimport HomePage from './containers/HomePage'\nimport LevelPage from './containers/LevelPage'\n\nconst numLevels = 10\n\nconst App = () => (\n  <Router basename=\"/ants\">\n    <ThemeProvider theme={theme}>\n      <ApolloProvider client={client}>\n        <div className=\"App\">\n          <Switch>\n            <Route\n              exact path={`/:level(${[...Array(numLevels + 1).keys()].join(\"|\").substring(2)})`}\n              component={LevelPage}\n            />\n            <Route path=\"/\" component={HomePage} />\n          </Switch>\n        </div>\n      </ApolloProvider>\n    </ThemeProvider>\n  </Router>\n)\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}